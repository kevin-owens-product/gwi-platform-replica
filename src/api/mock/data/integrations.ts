import type {
  IntegrationActivity,
  IntegrationCatalogItem,
  IntegrationConnection,
} from '../../types'
import { daysAgo } from '../helpers'

export const mockIntegrationCatalog: IntegrationCatalogItem[] = [
  {
    app_id: 'slack',
    name: 'Slack',
    description: 'Send Spark summaries, report drops, and notifications to Slack channels.',
    category: 'collaboration',
    capabilities: ['message_delivery', 'report_delivery', 'connection_test'],
    logo_text: 'S',
    setup_guide_url: 'https://help.globalwebindex.com/integrations/slack',
  },
  {
    app_id: 'microsoft_teams',
    name: 'Microsoft Teams',
    description: 'Deliver insights and report notifications into Teams channels.',
    category: 'collaboration',
    capabilities: ['message_delivery', 'report_delivery', 'connection_test'],
    logo_text: 'T',
    setup_guide_url: 'https://help.globalwebindex.com/integrations/microsoft-teams',
  },
  {
    app_id: 'salesforce',
    name: 'Salesforce',
    description: 'Sync audiences and send delivery metadata into Salesforce workflows.',
    category: 'crm',
    capabilities: ['audience_sync', 'delivery_metadata', 'report_delivery', 'connection_test'],
    logo_text: 'SF',
    setup_guide_url: 'https://help.globalwebindex.com/integrations/salesforce',
  },
  {
    app_id: 'hubspot',
    name: 'HubSpot',
    description: 'Push audience segments and activation metadata into HubSpot.',
    category: 'crm',
    capabilities: ['audience_sync', 'delivery_metadata', 'connection_test'],
    logo_text: 'HS',
    setup_guide_url: 'https://help.globalwebindex.com/integrations/hubspot',
  },
  {
    app_id: 'tableau',
    name: 'Tableau',
    description: 'Deliver report artifacts and dataset handoff metadata to Tableau pipelines.',
    category: 'bi',
    capabilities: ['report_delivery', 'artifact_delivery', 'dataset_handoff', 'connection_test'],
    logo_text: 'Tb',
    setup_guide_url: 'https://help.globalwebindex.com/integrations/tableau',
  },
  {
    app_id: 'power_bi',
    name: 'Power BI',
    description: 'Publish report artifacts and handoff metadata into Power BI.',
    category: 'bi',
    capabilities: ['report_delivery', 'artifact_delivery', 'dataset_handoff', 'connection_test'],
    logo_text: 'PB',
    setup_guide_url: 'https://help.globalwebindex.com/integrations/power-bi',
  },
  {
    app_id: 'zapier',
    name: 'Zapier',
    description: 'Trigger downstream automation with normalized delivery and audience payloads.',
    category: 'automation',
    capabilities: ['automation_trigger', 'message_delivery', 'audience_sync', 'report_delivery', 'connection_test'],
    logo_text: 'Z',
    setup_guide_url: 'https://help.globalwebindex.com/integrations/zapier',
  },
  {
    app_id: 'chatgpt',
    name: 'ChatGPT',
    description: 'Manage MCP setup and test connection health for ChatGPT integrations.',
    category: 'ai_assistant',
    capabilities: ['mcp_setup', 'connection_test'],
    logo_text: 'CG',
    setup_guide_url: 'https://help.globalwebindex.com/integrations/chatgpt',
  },
  {
    app_id: 'claude',
    name: 'Claude',
    description: 'Manage MCP setup and health checks for Claude.',
    category: 'ai_assistant',
    capabilities: ['mcp_setup', 'connection_test'],
    logo_text: 'C',
    setup_guide_url: 'https://help.globalwebindex.com/integrations/claude',
  },
  {
    app_id: 'gemini',
    name: 'Gemini',
    description: 'Manage MCP setup and health checks for Gemini.',
    category: 'ai_assistant',
    capabilities: ['mcp_setup', 'connection_test'],
    logo_text: 'G',
    setup_guide_url: 'https://help.globalwebindex.com/integrations/gemini',
  },
  {
    app_id: 'microsoft_copilot',
    name: 'Microsoft Copilot',
    description: 'Configure Copilot integration via MCP and connection health checks.',
    category: 'ai_assistant',
    capabilities: ['mcp_setup', 'connection_test'],
    logo_text: 'MC',
    setup_guide_url: 'https://help.globalwebindex.com/integrations/microsoft-copilot',
  },
]

export const mockIntegrationConnections: IntegrationConnection[] = [
  {
    id: 'conn_slack_1',
    app_id: 'slack',
    account: {
      id: 'acct_slack_1',
      app_id: 'slack',
      display_name: 'GWI Insights Workspace',
    },
    scope_type: 'workspace',
    workspace_id: 'org_gwi_demo',
    status: 'connected',
    connected_by: 'Sarah Chen',
    connected_at: daysAgo(30),
    capabilities: ['message_delivery', 'report_delivery', 'connection_test'],
    last_tested_at: daysAgo(1),
    last_synced_at: daysAgo(1),
  },
  {
    id: 'conn_teams_1',
    app_id: 'microsoft_teams',
    account: {
      id: 'acct_teams_1',
      app_id: 'microsoft_teams',
      display_name: 'GWI Analytics Team',
    },
    scope_type: 'workspace',
    workspace_id: 'org_gwi_demo',
    status: 'error',
    connected_by: 'Sarah Chen',
    connected_at: daysAgo(14),
    capabilities: ['message_delivery', 'report_delivery', 'connection_test'],
    last_tested_at: daysAgo(2),
    last_error: 'Token expired. Reconnect required.',
  },
  {
    id: 'conn_salesforce_1',
    app_id: 'salesforce',
    account: {
      id: 'acct_salesforce_1',
      app_id: 'salesforce',
      display_name: 'GWI RevOps',
    },
    scope_type: 'workspace',
    workspace_id: 'org_gwi_demo',
    status: 'connected',
    connected_by: 'Sarah Chen',
    connected_at: daysAgo(21),
    capabilities: ['audience_sync', 'delivery_metadata', 'report_delivery', 'connection_test'],
    last_tested_at: daysAgo(0),
    last_synced_at: daysAgo(0),
  },
  {
    id: 'conn_zapier_1',
    app_id: 'zapier',
    account: {
      id: 'acct_zapier_1',
      app_id: 'zapier',
      display_name: 'GWI Automation Hub',
    },
    scope_type: 'workspace',
    workspace_id: 'org_gwi_demo',
    status: 'connected',
    connected_by: 'Sarah Chen',
    connected_at: daysAgo(10),
    capabilities: ['automation_trigger', 'message_delivery', 'audience_sync', 'report_delivery', 'connection_test'],
    last_tested_at: daysAgo(1),
    last_synced_at: daysAgo(1),
  },
  {
    id: 'conn_claude_1',
    app_id: 'claude',
    account: {
      id: 'acct_claude_1',
      app_id: 'claude',
      display_name: 'Claude Desktop - Research Team',
    },
    scope_type: 'workspace',
    workspace_id: 'org_gwi_demo',
    status: 'connected',
    connected_by: 'Sarah Chen',
    connected_at: daysAgo(8),
    capabilities: ['mcp_setup', 'connection_test'],
    last_tested_at: daysAgo(0),
  },
]

export const mockIntegrationActivity: IntegrationActivity[] = [
  {
    id: 'ia-1',
    type: 'delivery',
    app_id: 'slack',
    connection_id: 'conn_slack_1',
    status: 'success',
    retries: 0,
    actor: 'Sarah Chen',
    created_at: daysAgo(0),
    details: 'Delivered Spark summary to #market-insights.',
  },
  {
    id: 'ia-2',
    type: 'audience_sync',
    app_id: 'salesforce',
    connection_id: 'conn_salesforce_1',
    status: 'success',
    retries: 0,
    actor: 'Sarah Chen',
    created_at: daysAgo(1),
    details: 'Synced audience aud_tech_savvy to Salesforce campaign list.',
  },
  {
    id: 'ia-3',
    type: 'connection_test',
    app_id: 'microsoft_teams',
    connection_id: 'conn_teams_1',
    status: 'failed',
    retries: 1,
    actor: 'Sarah Chen',
    created_at: daysAgo(2),
    details: 'Connection test failed: token expired.',
  },
]
