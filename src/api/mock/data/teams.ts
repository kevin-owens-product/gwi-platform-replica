import type { Team, TeamMember } from '../../types'
import type { TeamWorkspace, GuardrailViolation, ApprovalRequest } from '../../types'
import { daysAgo } from '../helpers'

export const mockTeams: Team[] = [
  {
    id: 'team_brand',
    name: 'Brand & Marketing',
    description: 'Brand health tracking, campaign measurement, and competitive analysis across all markets.',
    avatar_color: '#E31C79',
    organization_id: 'org_gwi_demo',
    created_by: 'user_sarah',
    created_at: daysAgo(120),
    updated_at: daysAgo(2),
    member_count: 5,
    settings: {
      allow_member_invite: true,
      auto_share_content: true,
      default_sharing_permission: 'view',
    },
  },
  {
    id: 'team_product',
    name: 'Product Research',
    description: 'Consumer insights for product development and feature prioritization.',
    avatar_color: '#0ea5e9',
    organization_id: 'org_gwi_demo',
    created_by: 'user_james',
    created_at: daysAgo(90),
    updated_at: daysAgo(5),
    member_count: 4,
    settings: {
      allow_member_invite: true,
      auto_share_content: false,
      default_sharing_permission: 'edit',
    },
  },
  {
    id: 'team_exec',
    name: 'Executive Insights',
    description: 'Curated dashboards and reports for leadership team consumption.',
    avatar_color: '#8b5cf6',
    organization_id: 'org_gwi_demo',
    created_by: 'user_sarah',
    created_at: daysAgo(60),
    updated_at: daysAgo(1),
    member_count: 3,
    settings: {
      allow_member_invite: false,
      auto_share_content: true,
      default_sharing_permission: 'view',
    },
  },
]

export const mockTeamMembers: TeamMember[] = [
  // Brand & Marketing team
  { id: 'tm_1', user_id: 'user_sarah', team_id: 'team_brand', name: 'Sarah Chen', email: 'sarah.chen@globalwebindex.com', team_role: 'team_admin', org_role: 'admin', joined_at: daysAgo(120), invited_by: 'user_sarah', status: 'active' },
  { id: 'tm_2', user_id: 'user_maria', team_id: 'team_brand', name: 'Maria Garcia', email: 'maria.garcia@globalwebindex.com', team_role: 'member', org_role: 'analyst', joined_at: daysAgo(110), invited_by: 'user_sarah', status: 'active' },
  { id: 'tm_3', user_id: 'user_emma', team_id: 'team_brand', name: 'Emma Brown', email: 'emma.brown@globalwebindex.com', team_role: 'member', org_role: 'analyst', joined_at: daysAgo(85), invited_by: 'user_sarah', status: 'active' },
  { id: 'tm_4', user_id: 'user_liam', team_id: 'team_brand', name: 'Liam Taylor', email: 'liam.taylor@globalwebindex.com', team_role: 'viewer', org_role: 'viewer', joined_at: daysAgo(50), invited_by: 'user_maria', status: 'active' },
  { id: 'tm_5', user_id: 'user_noah', team_id: 'team_brand', name: 'Noah Martinez', email: 'noah.martinez@globalwebindex.com', team_role: 'member', org_role: 'analyst', joined_at: daysAgo(5), invited_by: 'user_sarah', status: 'invited' },

  // Product Research team
  { id: 'tm_6', user_id: 'user_james', team_id: 'team_product', name: 'James Wilson', email: 'james.wilson@globalwebindex.com', team_role: 'team_admin', org_role: 'manager', joined_at: daysAgo(90), invited_by: 'user_james', status: 'active' },
  { id: 'tm_7', user_id: 'user_alex', team_id: 'team_product', name: 'Alex Kumar', email: 'alex.kumar@globalwebindex.com', team_role: 'member', org_role: 'analyst', joined_at: daysAgo(80), invited_by: 'user_james', status: 'active' },
  { id: 'tm_8', user_id: 'user_sophia', team_id: 'team_product', name: 'Sophia Lee', email: 'sophia.lee@globalwebindex.com', team_role: 'member', org_role: 'analyst', joined_at: daysAgo(45), invited_by: 'user_james', status: 'active' },
  { id: 'tm_9', user_id: 'user_maria', team_id: 'team_product', name: 'Maria Garcia', email: 'maria.garcia@globalwebindex.com', team_role: 'viewer', org_role: 'analyst', joined_at: daysAgo(30), invited_by: 'user_alex', status: 'active' },

  // Executive Insights team
  { id: 'tm_10', user_id: 'user_sarah', team_id: 'team_exec', name: 'Sarah Chen', email: 'sarah.chen@globalwebindex.com', team_role: 'team_admin', org_role: 'admin', joined_at: daysAgo(60), invited_by: 'user_sarah', status: 'active' },
  { id: 'tm_11', user_id: 'user_olivia', team_id: 'team_exec', name: 'Olivia White', email: 'olivia.white@globalwebindex.com', team_role: 'member', org_role: 'manager', joined_at: daysAgo(55), invited_by: 'user_sarah', status: 'active' },
  { id: 'tm_12', user_id: 'user_daniel', team_id: 'team_exec', name: 'Daniel Jones', email: 'daniel.jones@globalwebindex.com', team_role: 'viewer', org_role: 'viewer', joined_at: daysAgo(30), invited_by: 'user_sarah', status: 'active' },
]

export const mockWorkspaces: TeamWorkspace[] = [
  {
    id: 'ws_brand',
    team_id: 'team_brand',
    name: 'Brand & Marketing Workspace',
    description: 'Centralized workspace for brand tracking and campaign analysis.',
    context: {
      default_wave_ids: ['wave_q4_2025'],
      default_location_ids: ['loc_global', 'loc_us', 'loc_uk'],
      allowed_datasets: ['gwi-core', 'gwi-zeitgeist', 'gwi-usa'],
      focus_categories: ['brand-health', 'social-media', 'advertising', 'purchase-intent'],
      brand_names: ['GWI', 'Brand Alpha', 'Brand Beta'],
      competitors: ['Competitor X', 'Competitor Y', 'Competitor Z'],
      target_demographics: ['Millennials 25-34', 'Gen Z 18-24', 'Decision Makers'],
      business_objectives: [
        'Increase brand consideration by 15% in Q1 2026',
        'Track campaign ROI for Spring Launch',
        'Monitor competitor share of voice',
      ],
      key_metrics: ['Brand Awareness', 'Brand Consideration', 'Ad Recall', 'NPS'],
      notes: 'Focus on digital-first audiences. Align all outputs with brand guidelines and approved color palette. All reports should use the standard GWI template.',
    },
    guardrails: {
      restricted_datasets: ['gwi-kids'],
      max_export_rows: 10000,
      allowed_export_formats: ['csv', 'xlsx', 'pdf', 'pptx', 'png'],
      required_tags: ['brand-team'],
      naming_convention: '^[A-Z][a-zA-Z0-9\\s\\-]+$',
      brand_colors: ['#E31C79', '#1a1a2e', '#0ea5e9', '#f8fafc'],
      logo_url: undefined,
      monthly_query_limit: 5000,
      monthly_export_limit: 200,
      require_review_before_share: false,
      require_review_before_export: false,
      reviewers: ['user_sarah'],
      spark_system_prompt_additions: 'Focus analysis on brand health metrics and marketing performance. Always reference the current wave data. Prioritize insights relevant to our target demographics: Millennials and Gen Z.',
      spark_restricted_topics: [],
      spark_approved_data_sources: ['gwi-core', 'gwi-zeitgeist'],
    },
    created_at: daysAgo(120),
    updated_at: daysAgo(2),
  },
  {
    id: 'ws_product',
    team_id: 'team_product',
    name: 'Product Research Workspace',
    description: 'Consumer insights driving product decisions.',
    context: {
      default_wave_ids: ['wave_q4_2025'],
      default_location_ids: ['loc_us', 'loc_uk', 'loc_de'],
      allowed_datasets: ['gwi-core', 'gwi-usa'],
      focus_categories: ['technology', 'media-consumption', 'purchase-behaviour', 'attitudes'],
      brand_names: ['GWI Platform'],
      competitors: ['SurveyMonkey Audience', 'Statista', 'Nielsen'],
      target_demographics: ['Tech Professionals', 'Product Managers', 'Data Analysts'],
      business_objectives: [
        'Identify top 5 feature requests for H1 2026',
        'Validate product-market fit in DACH region',
        'Benchmark against competitor platforms',
      ],
      key_metrics: ['Usage Frequency', 'Feature Adoption', 'Satisfaction Score'],
      notes: 'Product research should always include competitive benchmarks. Export all data in both CSV and presentation-ready formats.',
    },
    guardrails: {
      restricted_datasets: [],
      max_export_rows: 50000,
      allowed_export_formats: ['csv', 'xlsx', 'pdf', 'pptx', 'png', 'svg', 'json'],
      required_tags: ['product-research'],
      naming_convention: undefined,
      brand_colors: ['#0ea5e9', '#1e293b', '#22c55e', '#f59e0b'],
      logo_url: undefined,
      monthly_query_limit: 10000,
      monthly_export_limit: 500,
      require_review_before_share: false,
      require_review_before_export: false,
      reviewers: ['user_james'],
      spark_system_prompt_additions: 'Focus on product usage patterns and consumer technology adoption. Provide actionable insights for product development.',
      spark_restricted_topics: [],
      spark_approved_data_sources: ['gwi-core', 'gwi-usa'],
    },
    created_at: daysAgo(90),
    updated_at: daysAgo(5),
  },
  {
    id: 'ws_exec',
    team_id: 'team_exec',
    name: 'Executive Insights Workspace',
    description: 'Curated, leadership-ready insights.',
    context: {
      default_wave_ids: ['wave_q4_2025'],
      default_location_ids: ['loc_global'],
      allowed_datasets: ['gwi-core'],
      focus_categories: ['brand-health', 'market-trends', 'digital-landscape'],
      brand_names: ['GWI'],
      competitors: ['Competitor X', 'Competitor Y'],
      target_demographics: ['All Adults 16+'],
      business_objectives: [
        'Quarterly board reporting',
        'Market landscape overview for strategic planning',
      ],
      key_metrics: ['Market Share', 'Brand Awareness', 'Revenue Correlation'],
      notes: 'All content must be presentation-ready and use approved brand colors. No raw data exports — only formatted reports and charts.',
    },
    guardrails: {
      restricted_datasets: ['gwi-kids', 'gwi-zeitgeist'],
      max_export_rows: 1000,
      allowed_export_formats: ['pdf', 'pptx', 'png'],
      required_tags: ['exec-review'],
      naming_convention: '^Q[0-9] [0-9]{4} .+$',
      brand_colors: ['#8b5cf6', '#1a1a2e', '#f8fafc', '#e2e8f0'],
      logo_url: undefined,
      monthly_query_limit: 1000,
      monthly_export_limit: 50,
      require_review_before_share: true,
      require_review_before_export: true,
      reviewers: ['user_sarah', 'user_olivia'],
      spark_system_prompt_additions: 'Provide executive-level summaries. Focus on strategic trends and high-level KPIs. Avoid technical jargon. Always provide comparison to previous quarter.',
      spark_restricted_topics: ['raw-data-access', 'individual-respondent-data'],
      spark_approved_data_sources: ['gwi-core'],
    },
    created_at: daysAgo(60),
    updated_at: daysAgo(1),
  },
]

export const mockViolations: GuardrailViolation[] = [
  {
    id: 'viol_1',
    rule: 'naming_convention',
    severity: 'warning',
    message: 'Chart name "test chart 123" does not match naming convention.',
    suggestion: 'Use title case starting with a capital letter, e.g. "Test Chart 123".',
    entity_type: 'chart',
    entity_id: 'chart_demo_1',
    timestamp: daysAgo(1),
    resolved: false,
  },
  {
    id: 'viol_2',
    rule: 'required_tags',
    severity: 'warning',
    message: 'Dashboard is missing required tag "brand-team".',
    suggestion: 'Add the "brand-team" tag to comply with workspace guardrails.',
    entity_type: 'dashboard',
    entity_id: 'dash_001',
    timestamp: daysAgo(2),
    resolved: false,
  },
  {
    id: 'viol_3',
    rule: 'max_export_rows',
    severity: 'error',
    message: 'Export request exceeds maximum row limit (10,000).',
    suggestion: 'Apply filters to reduce the data set or request an exception from your team admin.',
    entity_type: 'crosstab',
    entity_id: 'xtab_001',
    timestamp: daysAgo(3),
    resolved: true,
  },
]

export const mockApprovals: ApprovalRequest[] = [
  {
    id: 'appr_1',
    team_id: 'team_exec',
    entity_type: 'dashboard',
    entity_id: 'dash_001',
    entity_name: 'Q4 2025 Brand Health Overview',
    action: 'share',
    requested_by: 'user_daniel',
    requested_by_name: 'Daniel Jones',
    requested_at: daysAgo(1),
    status: 'pending',
  },
  {
    id: 'appr_2',
    team_id: 'team_exec',
    entity_type: 'report',
    entity_id: 'report_001',
    entity_name: 'Market Landscape Q4 2025',
    action: 'export',
    requested_by: 'user_olivia',
    requested_by_name: 'Olivia White',
    requested_at: daysAgo(2),
    status: 'approved',
    reviewed_by: 'user_sarah',
    reviewed_by_name: 'Sarah Chen',
    reviewed_at: daysAgo(1),
    review_comment: 'Looks good — approved for board distribution.',
  },
  {
    id: 'appr_3',
    team_id: 'team_exec',
    entity_type: 'chart',
    entity_id: 'chart_demo_1',
    entity_name: 'Social Media Usage Trends',
    action: 'share',
    requested_by: 'user_daniel',
    requested_by_name: 'Daniel Jones',
    requested_at: daysAgo(5),
    status: 'rejected',
    reviewed_by: 'user_sarah',
    reviewed_by_name: 'Sarah Chen',
    reviewed_at: daysAgo(4),
    review_comment: 'Needs updated Q4 data before sharing with leadership.',
  },
]
